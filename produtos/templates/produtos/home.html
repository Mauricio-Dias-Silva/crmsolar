{% extends 'produtos/base.html' %}
{% load static %}

{% block title %}Solar Hub - Energia e Sustentabilidade{% endblock %}

{% block content %}
<main>
    <section class="container my-5 text-center">
        <div class="row">
            <div class="col-lg-8 mx-auto">
                <h1 class="display-3 fw-bold mb-3">Seu Futuro é Solar. ☀️</h1>
                <p class="lead text-muted mb-4">Transformamos a maneira como você consome energia, oferecendo soluções sustentáveis e eficientes para sua casa e negócio. Descubra o poder da energia limpa com a gente.</p>
                
                <a href="{% url 'produtos:about' %}" class="btn btn-primary btn-lg me-2">Conheça Nossa Missão</a>
                
                <a href="{% url 'produtos:home' %}" class="btn btn-outline-primary btn-lg">Explore Nossos Produtos</a>
            </div>
        </div>
    </section>

    <section class="py-5 bg-white">
        <div class="container">
            <div class="row align-items-center">
                <div class="col-md-6 mb-4 mb-md-0">
                    <img src="{% static 'images/imagem_servico_instalacao.jpg' %}" alt="Serviço de Instalação de Energia Solar" class="img-fluid rounded-3 shadow-lg">
                </div>
                <div class="col-md-6">
                    <h2 class="display-5 fw-bold mb-3">Soluções Completas para Integradores</h2>
                    <p class="lead text-muted">A Solar Hub não é apenas uma loja. Somos a sua parceira completa em energia solar. Oferecemos ferramentas, suporte e os melhores produtos para otimizar seus projetos. Junte-se à nossa rede de integradores e eleve seu negócio.</p>
                    
                    <a href="{% url 'crm:home' %}" class="btn btn-primary btn-lg mt-3">Acesse o Dashboard do Integrador</a>
                </div>
            </div>
        </div>
    </section>
    
    <div class="container my-5">
        <hr class="my-5">
    </div>

    <section class="container my-5">
        <h2 class="text-center display-5 fw-bold mb-5">Por que escolher a Energia Solar?</h2>
        <div class="row text-center">
            <div class="col-md-4 mb-4">
                <div class="card h-100 border-0 shadow-sm p-4">
                    <i class="bi bi-currency-dollar text-success display-4 mb-3"></i>
                    <h5 class="fw-bold">Economia na Conta de Luz</h5>
                    <p class="text-muted">Gere sua própria energia e reduza significativamente seus gastos mensais com eletricidade.</p>
                </div>
            </div>
            <div class="col-md-4 mb-4">
                <div class="card h-100 border-0 shadow-sm p-4">
                    <i class="bi bi-tree text-success display-4 mb-3"></i>
                    <h5 class="fw-bold">Sustentabilidade Garantida</h5>
                    <p class="text-muted">Use uma fonte de energia limpa e renovável, contribuindo para um planeta mais verde e saudável.</p>
                </div>
            </div>
            <div class="col-md-4 mb-4">
                <div class="card h-100 border-0 shadow-sm p-4">
                    <i class="bi bi-house-check text-success display-4 mb-3"></i>
                    <h5 class="fw-bold">Aumente o Valor do seu Imóvel</h5>
                    <p class="text-muted">Imóveis com sistemas de energia solar são mais valorizados no mercado.</p>
                </div>
            </div>
        </div>
    </section>

    <section class="container mb-5">
        <h2 class="display-4 text-center mb-4">Produtos em Destaque</h2>
        <div class="scrollable-products" style="max-height: 700px; overflow-y: auto;">
            <div class="row row-cols-1 row-cols-md-3 g-4">
                {% for produto in produtos %}
                    <div class="col">
                        <div class="card h-100 shadow-sm border-0 rounded-3">
                            {% with first_image=produto.images.first %}
                                <img src="{{ first_image.image.url }}" class="card-img-top rounded-top" alt="{{ produto.name }}" style="height: 250px; object-fit: cover;">
                            {% endwith %}
                            <div class="card-body d-flex flex-column">
                                <h5 class="card-title">{{ produto.name }}</h5>
                                <p class="card-text text-muted">{{ produto.categoria_exibicao }}</p>
                                <div class="mt-auto">
                                    <p class="h4 text-success fw-bold">R$ {{ produto.preco|floatformat:2 }}</p>
                                    
                                    <a href="{% url 'produtos:produto_detalhe' produto.id %}" class="btn btn-primary w-100 mt-2">Ver Detalhes</a>
                                </div>
                            </div>
                        </div>
                    </div>
                {% endfor %}
            </div>
        </div>
        <div class="text-center mt-4">
            <a href="{% url 'produtos:home' %}" class="btn btn-outline-primary btn-lg">Ver Todos os Produtos</a>
        </div>
    </section>
</main>
{% endblock %}