{% extends "base.html" %}

{% block content %}
<h1>ğŸ† Suas Conquistas</h1>

<div class="row mb-4">
  <div class="col-md-4">
    <div class="card bg-primary text-white">
      <div class="card-body text-center">
        <h3>{{ xp_profile.total_xp }} XP</h3>
        <p>NÃ­vel {{ xp_profile.level }}</p>
      </div>
    </div>
  </div>
</div>

<h5>ğŸ… Badges Desbloqueadas</h5>
<div class="row">
  {% for a in achievements %}
  <div class="col-md-4 mb-3">
    <div class="card">
      <div class="card-body text-center">
        <i class="{{ a.badge.icon }} text-warning" style="font-size: 2rem;"></i>
        <h6>{{ a.badge.name }}</h6>
        <p class="text-muted small">{{ a.badge.description }}</p>
        <small class="text-success">+{{ a.badge.xp_value }} XP</small><br>
        <small>{{ a.earned_at|date:"d/m/Y" }}</small>
        {% if a.course %}
        <div class="mt-1"><span class="badge bg-secondary">{{ a.course.name|truncatechars:20 }}</span></div>
        {% endif %}
      </div>
    </div>
  </div>
  {% empty %}
  <div class="col"><div class="alert alert-info">Nenhuma conquista ainda. Continue aprendendo!</div></div>
  {% endfor %}
</div>

<h5 class="mt-5">ğŸ¯ Badges DisponÃ­veis</h5>
<div class="row">
  {% for badge in all_badges %}
  <div class="col-md-3">
    <div class="card text-center opacity-75">
      <div class="card-body">
        <i class="{{ badge.icon }}" style="font-size: 1.5rem;"></i>
        <h6>{{ badge.name }}</h6>
        <small>{{ badge.description|truncatechars:60 }}</small>
      </div>
    </div>
  </div>
  {% endfor %}
</div>
{% endblock %}